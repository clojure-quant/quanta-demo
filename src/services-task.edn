 {:modular (modular.system/modular-env)  ; {:profile "jetty"  :config ["demo.edn" "secrets.edn"]}
 :components
 {:config {:start (modular.config/load-config! (:config #ref [:modular]))}
  :secrets {:start (clojure.edn/read-string
                     (slurp #envf ["%s/trateg/creds.edn" "MYVAULT"]))
                      }

  :timbre {:start (modular.log/timbre-config!
                   (:timbre/clj (deref (clip/ref :config))))}

  :alphavantage {:start (ta.data.api.alphavantage/set-key!
                         (:alphavantage (clip/ref :secrets)))}
  
  :quandl {:start (ta.data.api.quandl/set-key!
                  (:quandl (clip/ref :secrets)))}
  
  :asset-db {:start (quanta.notebook.asset-add/add-assets)}
;
  }}
